service: aws-ingest-data

provider:
  name: aws
  runtime: python3.9
  stage: dev
  region: us-west-2

custom:
  prefix: "fiap-fase3-grupo-l"

resources:
  Resources:
    S3BucketSmallFiles:
      Type: 'AWS::S3::Bucket'
      DeletionPolicy: Retain
      Properties: 
        BucketName: ${self:custom.prefix}-small-files-bucket
    SQSQueueCsvJson:
      Type: 'AWS::SQS::Queue'
      Properties:
        QueueName: ${self:custom.prefix}-csv-to-json-sqs
        VisibilityTimeout: 30
        MessageRetentionPeriod: 360
